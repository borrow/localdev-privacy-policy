<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Policy - PolÃ­tica de Privacidad | LocalDev</title>
    <meta name="description" content="Privacy Policy for LocalDev app - PolÃ­tica de Privacidad de la app LocalDev">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .language-selector {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: white;
            padding: 10px 20px;
            border-radius: 25px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .language-selector button {
            background: none;
            border: 2px solid #007bff;
            color: #007bff;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            font-size: 14px;
        }
        
        .language-selector button:hover {
            background: #007bff;
            color: white;
        }
        
        .language-selector button.active {
            background: #007bff;
            color: white;
        }
        
        .loading {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }
        
        .loading::after {
            content: '...';
            animation: dots 1.5s steps(4, end) infinite;
        }
        
        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60%, 100% { content: '...'; }
        }
        
        .content {
            display: none;
        }
        
        .content.active {
            display: block;
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 2.5em;
            border-bottom: 3px solid #007bff;
            padding-bottom: 10px;
        }
        
        h2 {
            color: #34495e;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.8em;
        }
        
        h3 {
            color: #34495e;
            margin-top: 25px;
            margin-bottom: 12px;
            font-size: 1.4em;
        }
        
        h4 {
            color: #555;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        ul, ol {
            margin-left: 30px;
            margin-bottom: 15px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        strong {
            color: #2c3e50;
        }
        
        a {
            color: #007bff;
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        .effective-date {
            background: #e8f4f8;
            padding: 15px;
            border-left: 4px solid #007bff;
            margin-bottom: 30px;
            border-radius: 4px;
        }
        
        .contact-info {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 20px;
            }
            
            .language-selector {
                top: 10px;
                right: 10px;
                padding: 8px 15px;
            }
            
            .language-selector button {
                padding: 6px 12px;
                font-size: 12px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            h2 {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>
    <!-- Language Selector -->
    <div class="language-selector">
        <button id="btnEnglish" onclick="switchLanguage('en')">ðŸ‡¬ðŸ‡§ English</button>
        <button id="btnSpanish" onclick="switchLanguage('es')">ðŸ‡ªðŸ‡¸ EspaÃ±ol</button>
    </div>

    <div class="container">
        <div class="loading" id="loading">
            Loading Privacy Policy
        </div>
        
        <!-- English Content -->
        <div class="content" id="content-en"></div>
        
        <!-- Spanish Content -->
        <div class="content" id="content-es"></div>
    </div>

    <script>
        // Detect browser language
        function detectLanguage() {
            const browserLang = navigator.language || navigator.userLanguage;
            const langCode = browserLang.toLowerCase().substring(0, 2);
            
            // Return 'es' if Spanish, otherwise 'en' (default to English)
            return langCode === 'es' ? 'es' : 'en';
        }

        // Switch language
        function switchLanguage(lang) {
            // Hide all content
            document.querySelectorAll('.content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Show selected language content
            const selectedContent = document.getElementById('content-' + lang);
            if (selectedContent) {
                selectedContent.classList.add('active');
            }
            
            // Update button states
            document.querySelectorAll('.language-selector button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            const activeButton = lang === 'en' ? 'btnEnglish' : 'btnSpanish';
            document.getElementById(activeButton).classList.add('active');
            
            // Update HTML lang attribute
            document.documentElement.lang = lang;
            
            // Save preference
            localStorage.setItem('preferredLanguage', lang);
        }

        // Load content from markdown files
        async function loadContent() {
            try {
                // Load English version
                const responseEn = await fetch('readme.md');
                const textEn = await responseEn.text();
                document.getElementById('content-en').innerHTML = convertMarkdownToHTML(textEn);
                
                // Load Spanish version
                const responseEs = await fetch('readme_es.md');
                const textEs = await responseEs.text();
                document.getElementById('content-es').innerHTML = convertMarkdownToHTML(textEs);
                
                // Hide loading
                document.getElementById('loading').style.display = 'none';
                
                // Get preferred language (saved or detected)
                const savedLang = localStorage.getItem('preferredLanguage');
                const lang = savedLang || detectLanguage();
                
                // Show content in detected/preferred language
                switchLanguage(lang);
                
            } catch (error) {
                console.error('Error loading content:', error);
                document.getElementById('loading').innerHTML = 
                    '<p style="color: red;">Error loading privacy policy. Please refresh the page.</p>';
            }
        }

        // Simple Markdown to HTML converter (basic)
        function convertMarkdownToHTML(markdown) {
            let html = markdown;
            
            // Headers
            html = html.replace(/^#### (.*$)/gim, '<h4>$1</h4>');
            html = html.replace(/^### (.*$)/gim, '<h3>$1</h3>');
            html = html.replace(/^## (.*$)/gim, '<h2>$1</h2>');
            html = html.replace(/^# (.*$)/gim, '<h1>$1</h1>');
            
            // Bold
            html = html.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            html = html.replace(/__(.*?)__/g, '<strong>$1</strong>');
            
            // Italic
            html = html.replace(/\*(.*?)\*/g, '<em>$1</em>');
            html = html.replace(/_(.*?)_/g, '<em>$1</em>');
            
            // Links
            html = html.replace(/\[([^\]]+)\]\(([^\)]+)\)/g, '<a href="$2" target="_blank">$1</a>');
            
            // Unordered lists
            html = html.replace(/^\- (.*)$/gim, '<li>$1</li>');
            html = html.replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>');
            
            // Ordered lists
            html = html.replace(/^\d+\. (.*)$/gim, '<li>$1</li>');
            
            // Line breaks and paragraphs
            html = html.replace(/\n\n/g, '</p><p>');
            html = html.replace(/\n/g, '<br>');
            
            // Wrap in paragraph
            html = '<p>' + html + '</p>';
            
            // Clean up
            html = html.replace(/<p><h/g, '<h');
            html = html.replace(/<\/h([1-6])><\/p>/g, '</h$1>');
            html = html.replace(/<p><ul>/g, '<ul>');
            html = html.replace(/<\/ul><\/p>/g, '</ul>');
            html = html.replace(/<p><\/p>/g, '');
            html = html.replace(/<p><br>/g, '<p>');
            html = html.replace(/<br><\/p>/g, '</p>');
            
            return html;
        }

        // Load content when page loads
        window.addEventListener('DOMContentLoaded', loadContent);
    </script>
</body>
</html>
